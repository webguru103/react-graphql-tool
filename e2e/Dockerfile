FROM testcafe/testcafe

USER root

ENV NODE_PATH=/opt:/usr/lib/node_modules:/opt/testcafe/node_modules

# Installing custom dependencies:
RUN cd /opt/testcafe && npm install \
  casual

USER user

ARG FRONTEND_BASE_URL
ARG TEST_USER_PASSWORD
ARG TEST_USER_EMAIL
ARG HTTP_ENDPOINT
ENV FRONTEND_BASE_URL=$FRONTEND_BASE_URL
ENV TEST_USER_PASSWORD=$TEST_USER_PASSWORD
ENV TEST_USER_EMAIL=$TEST_USER_EMAIL
ENV HTTP_ENDPOINT=$HTTP_ENDPOINT
ENV SCREEN_WIDTH=1440
ENV SCREEN_HEIGHT=798
